<div style="margin-bottom: var(--space-8); display: flex; justify-content: space-between; align-items: center;">
  <div>
    <h1 style="font-size: var(--text-4xl); margin-bottom: var(--space-2);">에이전시 관리</h1>
    <p class="text-gray">파트너 에이전시 및 인플루언서 활동을 관리하세요</p>
  </div>
  <%= link_to "새 에이전시 추가", new_admin_agency_path, class: "btn btn-primary" %>
</div>

<div style="background: white; border-radius: var(--radius-xl); overflow: hidden; box-shadow: var(--shadow-sm);">
  <table style="width: 100%; border-collapse: collapse;">
    <thead style="background: var(--color-gray-50); border-bottom: 2px solid var(--color-gray-200);">
      <tr>
        <th style="padding: var(--space-4); text-align: left;">에이전시명</th>
        <th style="padding: var(--space-4); text-align: left;">도메인(ID)</th>
        <th style="padding: var(--space-4); text-align: left;">소유자</th>
        <th style="padding: var(--space-4); text-align: left;">수수료율</th>
        <th style="padding: var(--space-4); text-align: center;">상태</th>
        <th style="padding: var(--space-4); text-align: center;">관리</th>
      </tr>
    </thead>
    <tbody>
      <% if @agencies.any? %>
        <% @agencies.each do |agency| %>
          <tr style="border-bottom: 1px solid var(--color-gray-100);">
            <td style="padding: var(--space-4);"><strong><%= agency.name %></strong></td>
            <td style="padding: var(--space-4);"><%= agency.subdomain %></td>
            <td style="padding: var(--space-4);"><%= agency.owner&.name || agency.owner&.email || "-" %></td>
            <td style="padding: var(--space-4);"><%= number_to_percentage(agency.commission_rate, precision: 1) %></td>
            <td style="padding: var(--space-4); text-align: center;">
              <span style="padding: 4px 8px; border-radius: 9999px; font-size: 12px; <%= agency.active ? 'background: #dcfce7; color: #166534;' : 'background: #f3f4f6; color: #374151;' %>">
                <%= agency.active ? '활성' : '비활성' %>
              </span>
            </td>
            <td style="padding: var(--space-4); text-align: center;">
              <%= link_to "관리", admin_agency_path(agency), class: "btn btn-sm btn-outline" %>
              <%= link_to "수정", edit_admin_agency_path(agency), class: "btn btn-sm btn-outline", style: "margin-left: 4px;" %>
            </td>
          </tr>
        <% end %>
      <% else %>
        <tr>
          <td colspan="6" style="padding: var(--space-10); text-align: center; color: var(--color-gray-500);">
            등록된 에이전시가 없습니다.
          </td>
        </tr>
      <% end %>
    </tbody>
  </table>
</div>
