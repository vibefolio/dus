<div style="margin-bottom: var(--space-8);">
  <h1 style="font-size: var(--text-4xl); margin-bottom: var(--space-2);">문의 내역 관리</h1>
  <p class="text-gray">고객으로부터 접수된 프로젝트 문의를 확인하고 관리하세요</p>
</div>

<% if @quotes.any? %>
  <div class="grid grid-2" style="gap: var(--space-6);">
    <% @quotes.each do |quote| %>
      <div class="card">
        <div style="display: flex; justify-content: space-between; align-items: start; margin-bottom: var(--space-4);">
          <div>
            <h3 style="font-size: var(--text-xl); font-weight: 700; margin-bottom: var(--space-2);">
              <%= quote.contact_name %>
            </h3>
            <% if quote.company_name.present? %>
              <p style="color: var(--color-gray-600); font-size: var(--text-sm);">
                <%= quote.company_name %>
              </p>
            <% end %>
          </div>
          <span style="display: inline-block; padding: var(--space-1) var(--space-3); background: <%= quote.status == 'pending' ? 'var(--color-warning)' : 'var(--color-success)' %>; color: white; border-radius: var(--radius-full); font-size: var(--text-xs); font-weight: 600;">
            <%= quote.status == 'pending' ? '대기중' : '처리완료' %>
          </span>
        </div>

        <div style="margin-bottom: var(--space-4);">
          <div style="display: grid; grid-template-columns: 1fr 1fr; gap: var(--space-3); margin-bottom: var(--space-3);">
            <div>
              <p style="font-size: var(--text-xs); color: var(--color-gray-500); margin-bottom: var(--space-1);">이메일</p>
              <p style="font-size: var(--text-sm); color: var(--color-gray-700);"><%= quote.email %></p>
            </div>
            <div>
              <p style="font-size: var(--text-xs); color: var(--color-gray-500); margin-bottom: var(--space-1);">연락처</p>
              <p style="font-size: var(--text-sm); color: var(--color-gray-700);"><%= quote.phone %></p>
            </div>
          </div>

          <% if quote.project_type.present? %>
            <div style="margin-bottom: var(--space-3);">
              <p style="font-size: var(--text-xs); color: var(--color-gray-500); margin-bottom: var(--space-1);">프로젝트 유형</p>
              <span style="display: inline-block; padding: var(--space-1) var(--space-3); background: var(--color-accent); color: white; border-radius: var(--radius-full); font-size: var(--text-sm); font-weight: 600;">
                <%= quote.project_type %>
              </span>
            </div>
          <% end %>

          <% if quote.budget.present? %>
            <div style="margin-bottom: var(--space-3);">
              <p style="font-size: var(--text-xs); color: var(--color-gray-500); margin-bottom: var(--space-1);">예산 범위</p>
              <p style="font-size: var(--text-sm); color: var(--color-gray-700);"><%= quote.budget %></p>
            </div>
          <% end %>

          <% if quote.message.present? %>
            <div>
              <p style="font-size: var(--text-xs); color: var(--color-gray-500); margin-bottom: var(--space-1);">문의 내용</p>
              <p style="font-size: var(--text-sm); color: var(--color-gray-700); line-height: 1.6;">
                <%= truncate(quote.message, length: 150) %>
              </p>
            </div>
          <% end %>
        </div>

        <div style="padding-top: var(--space-4); border-top: 1px solid var(--color-gray-200); display: flex; justify-content: space-between; align-items: center;">
          <p style="font-size: var(--text-xs); color: var(--color-gray-500);">
            <%= quote.created_at.strftime("%Y-%m-%d %H:%M") %>
          </p>
          <%= link_to "상세보기", admin_quote_path(quote), class: "btn btn-sm btn-primary" %>
        </div>
      </div>
    <% end %>
  </div>
<% else %>
  <div class="card text-center" style="padding: var(--space-20);">
    <div style="width: 100px; height: 100px; background: var(--color-gray-100); border-radius: var(--radius-full); display: flex; align-items: center; justify-content: center; margin: 0 auto var(--space-6);">
      <svg width="50" height="50" viewBox="0 0 24 24" fill="none" stroke="var(--color-gray-400)" stroke-width="2">
        <path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"/>
        <polyline points="22,6 12,13 2,6"/>
      </svg>
    </div>
    <h3 style="font-size: var(--text-2xl); margin-bottom: var(--space-4);">접수된 문의가 없습니다</h3>
    <p class="text-gray">고객의 문의가 접수되면 여기에 표시됩니다</p>
  </div>
<% end %>
