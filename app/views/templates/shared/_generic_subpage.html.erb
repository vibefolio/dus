<%# Generic Subpage Layout %>
<%
  primary_color = @theme["primary_color"]
  bg_color = @theme["bg_color"]
  text_color = @theme["text_color"]
  font_css = @theme["font_css"]
  radius = @theme["radius"]
%>

<div class="min-h-screen flex flex-col" style="font-family: <%= font_css %>; background-color: <%= bg_color %>; color: <%= text_color %>;">

  <%# Navigation Bar (Simplified) %>
  <nav class="border-b sticky top-0 z-50 backdrop-blur-md" style="border-color: <%= primary_color %>20; background-color: <%= bg_color %>dd;">
    <div class="container mx-auto px-6 py-5 flex justify-between items-center">
      <a href="<%= template_show_path(template_name: @template_name) %>" class="text-xl font-bold uppercase tracking-widest flex items-center gap-2" style="color: <%= primary_color %>">
        <span class="w-2 h-2 <%= radius %>" style="background-color: <%= primary_color %>;"></span>
        <%= @template_name %>
      </a>

      <div class="hidden md:flex gap-10 text-xs font-bold uppercase tracking-[0.2em] opacity-60">
        <span>About</span>
        <span>Service</span>
        <span>Contact</span>
      </div>

      <a href="<%= template_show_path(template_name: @template_name) %>" class="text-xs font-bold uppercase tracking-widest opacity-50 hover:opacity-100 transition border px-4 py-2 <%= radius %>" style="border-color: <%= primary_color %>;">
        Back
      </a>
    </div>
  </nav>

  <%# Hero Section %>
  <header class="py-24 md:py-40 px-6 relative overflow-hidden flex items-center">
    <!-- Abstract Background Shape -->
    <div class="absolute top-[-20%] right-[-10%] w-[70vw] h-[70vw] opacity-[0.03] pointer-events-none <%= radius %>"
         style="background: radial-gradient(circle at center, <%= primary_color %>, transparent 70%);"></div>
    <div class="absolute bottom-[-10%] left-[-10%] w-[50vw] h-[50vw] opacity-[0.03] pointer-events-none <%= radius %>"
         style="background: <%= primary_color %>;"></div>

    <div class="container mx-auto relative z-10">
      <div class="max-w-4xl mx-auto text-center md:text-left">
        <div class="inline-flex items-center gap-3 mb-8 px-4 py-2 border <%= radius %>" style="border-color: <%= primary_color %>20; background-color: <%= primary_color %>05;">
          <span class="w-1.5 h-1.5 <%= radius %> animate-pulse" style="background-color: <%= primary_color %>;"></span>
          <span class="text-[10px] font-bold tracking-[0.3em] uppercase opacity-70">
            <%= @template_name %> / <%= @sub_page_title %>
          </span>
        </div>

        <h1 class="text-4xl md:text-7xl font-black mb-8 leading-[1.1]" style="color: <%= primary_color %>">
          <%= @sub_page_title %>
        </h1>

        <p class="text-lg md:text-2xl opacity-60 leading-relaxed max-w-2xl mx-auto md:mx-0 font-light">
          Experience the essence of <%= @template_name.titleize %>. <br class="hidden md:block">
          We craft solutions that resonate with your vision.
        </p>
      </div>
    </div>
  </header>

  <main class="container mx-auto px-6 py-20 flex-grow">
    <div class="grid md:grid-cols-12 gap-16 md:gap-24">
      <!-- Sidebar -->
      <aside class="md:col-span-3 hidden md:block">
        <div class="sticky top-32 space-y-8">
           <div>
             <p class="text-[10px] font-black uppercase tracking-[0.3em] opacity-30 mb-6">Navigation</p>
             <div class="space-y-1">
               <% ["Overview", "Features", "Details", "Contact"].each_with_index do |item, idx| %>
                 <div class="group flex items-center gap-4 cursor-pointer py-2 opacity-50 hover:opacity-100 transition">
                   <span class="text-[10px] font-bold w-4"><%= "0#{idx+1}" %></span>
                   <span class="text-sm font-bold tracking-wider"><%= item %></span>
                 </div>
               <% end %>
             </div>
           </div>

           <div class="p-6 <%= radius %> border" style="border-color: <%= primary_color %>10; background-color: <%= primary_color %>05;">
             <p class="text-xs font-bold mb-2">Need Help?</p>
             <p class="text-[10px] opacity-60 leading-relaxed mb-4">Contact our support team for any inquiries.</p>
             <button class="w-full py-2 text-[10px] font-bold uppercase tracking-widest bg-white shadow-sm <%= radius %>" style="color: <%= primary_color %>;">Contact</button>
           </div>
        </div>
      </aside>

      <!-- Content -->
      <div class="md:col-span-9 space-y-32">

        <!-- Section 1: Overview -->
        <section>
          <div class="grid md:grid-cols-2 gap-12 items-center">
            <div class="prose max-w-none">
              <h2 class="text-2xl md:text-4xl font-bold mb-6" style="color: <%= primary_color %>">Overview</h2>
              <p class="text-lg leading-relaxed opacity-70">
                This section provides a comprehensive look into <strong><%= @sub_page_title %></strong>.
                Designed with the core values of the <%= @template_name %> brand, we ensure that every detail meets the highest standards.
              </p>
              <p class="text-lg leading-relaxed opacity-70 mt-6">
                Whether you are looking for innovation, stability, or creativity, our solution is crafted to exceed expectations.
              </p>
            </div>
            <div class="aspect-square md:aspect-[4/5] <%= radius %> bg-gray-100 relative overflow-hidden group">
               <img src="https://images.unsplash.com/photo-1522202176988-66273c2fd55f?q=80&w=800" class="w-full h-full object-cover transition duration-700 group-hover:scale-105 filter grayscale opacity-80 mix-blend-multiply" alt="Overview">
               <div class="absolute inset-0 opacity-20" style="background-color: <%= primary_color %>;"></div>
            </div>
          </div>
        </section>

        <!-- Section 2: Features Grid -->
        <section>
           <div class="flex items-end justify-between mb-12">
             <h2 class="text-2xl md:text-4xl font-bold" style="color: <%= primary_color %>">Key Features</h2>
             <span class="hidden md:block text-xs font-bold uppercase tracking-widest opacity-40">Core Benefits</span>
           </div>

          <div class="grid md:grid-cols-3 gap-6">
            <% 3.times do |i| %>
              <div class="p-8 <%= radius %> border transition hover:-translate-y-2 hover:shadow-2xl duration-500 group"
                   style="border-color: <%= primary_color %>20; background-color: <%= primary_color %>03;">
                <div class="w-10 h-10 mb-8 flex items-center justify-center text-lg font-bold border <%= radius %> group-hover:bg-white transition"
                     style="border-color: <%= primary_color %>; color: <%= primary_color %>">
                  <%= i + 1 %>
                </div>
                <h3 class="text-lg font-bold mb-4 tracking-wide">Feature <%= i + 1 %></h3>
                <p class="opacity-60 text-sm leading-relaxed">
                  Detailed explanation of this feature. It enhances the user experience and provides tangible value to your business.
                </p>
              </div>
            <% end %>
          </div>
        </section>

        <!-- CTA -->
        <section class="py-24 px-8 md:px-20 <%= radius %> text-center relative overflow-hidden"
                 style="background-color: <%= primary_color %>; color: <%= bg_color %>;">
           <div class="absolute inset-0 opacity-10"
                style="background-image: radial-gradient(<%= bg_color %> 1px, transparent 1px); background-size: 30px 30px;"></div>

           <div class="relative z-10">
             <h2 class="text-3xl md:text-5xl font-black mb-8">Ready to get started?</h2>
             <p class="mb-12 opacity-80 max-w-xl mx-auto text-lg">
               Take the next step with <%= @template_name.titleize %>. <br>Contact us today for a consultation.
             </p>
             <button class="px-10 py-5 bg-white text-black font-bold uppercase tracking-[0.2em] <%= radius %> hover:bg-opacity-90 transition shadow-xl hover:shadow-2xl hover:-translate-y-1 transform duration-300"
                     style="color: <%= primary_color %>">
               Contact Us
             </button>
           </div>
        </section>

      </div>
    </div>
  </main>

  <footer class="py-16 border-t text-center" style="border-color: <%= primary_color %>10; background-color: <%= primary_color %>03;">
    <div class="container mx-auto px-6">
      <p class="text-xs font-bold uppercase tracking-[0.3em] opacity-30 mb-4">&copy; <%= Time.current.year %> <%= @template_name.titleize %>.</p>
      <div class="flex justify-center gap-6 text-[10px] font-bold uppercase tracking-widest opacity-20">
        <a href="#" class="hover:opacity-100">Privacy</a>
        <a href="#" class="hover:opacity-100">Terms</a>
        <a href="#" class="hover:opacity-100">Sitemap</a>
      </div>
    </div>
  </footer>
</div>
