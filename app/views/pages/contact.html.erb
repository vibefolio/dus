<% content_for :title, "문의하기 - 디어스" %>
<% content_for :description, "프로젝트 문의 및 견적 요청을 남겨주세요. 디어스 전문가가 빠르게 연락드리겠습니다." %>

<!-- Contact Hero -->
<section class="hero" style="min-height: 40vh; padding-top: 120px;">
  <div class="hero-content">
    <h1 class="hero-title" style="font-size: var(--text-6xl);">프로젝트 문의</h1>
    <p class="hero-subtitle">
      프로젝트에 대해 자세히 알려주세요<br>
      최적의 솔루션을 제안해드리겠습니다
    </p>
  </div>
</section>

<!-- Contact Form Section -->
<section class="section">
  <div class="container" style="max-width: 800px;">
    <% if notice %>
      <div style="background: var(--color-success); color: white; padding: var(--space-4) var(--space-6); border-radius: var(--radius-lg); margin-bottom: var(--space-8); display: flex; align-items: center; gap: var(--space-3);">
        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"/>
          <polyline points="22 4 12 14.01 9 11.01"/>
        </svg>
        <span><%= notice %></span>
      </div>
    <% end %>

    <%= form_with model: @quote, url: contact_path, method: :post, class: "card", style: "padding: var(--space-8);" do |f| %>
      <h2 style="font-size: var(--text-3xl); margin-bottom: var(--space-6); text-align: center;">견적 문의서</h2>
      
      <% if @quote.errors.any? %>
        <div style="background: var(--color-error); color: white; padding: var(--space-4); border-radius: var(--radius-lg); margin-bottom: var(--space-6);">
          <strong><%= pluralize(@quote.errors.count, "error") %> 발생:</strong>
          <ul style="margin-top: var(--space-2); padding-left: var(--space-4);">
            <% @quote.errors.full_messages.each do |message| %>
              <li><%= message %></li>
            <% end %>
          </ul>
        </div>
      <% end %>

      <div class="form-group">
        <%= f.label :contact_name, "담당자명 *", class: "form-label" %>
        <%= f.text_field :contact_name, class: "form-input", placeholder: "홍길동", required: true %>
      </div>

      <div class="form-group">
        <%= f.label :company_name, "회사명", class: "form-label" %>
        <%= f.text_field :company_name, class: "form-input", placeholder: "주식회사 디어스" %>
      </div>

      <div style="display: grid; grid-template-columns: 1fr 1fr; gap: var(--space-6);">
        <div class="form-group">
          <%= f.label :email, "이메일 *", class: "form-label" %>
          <%= f.email_field :email, class: "form-input", placeholder: "contact@example.com", required: true %>
        </div>

        <div class="form-group">
          <%= f.label :phone, "연락처 *", class: "form-label" %>
          <%= f.telephone_field :phone, class: "form-input", placeholder: "010-1234-5678", required: true %>
        </div>
      </div>

      <div class="form-group">
        <%= f.label :project_type, "프로젝트 유형 *", class: "form-label" %>
        <%= f.select :project_type, 
          options_for_select([
            ["선택해주세요", ""],
            ["웹사이트 개발", "웹사이트 개발"],
            ["웹 애플리케이션", "웹 애플리케이션"],
            ["모바일 앱 (iOS/Android)", "모바일 앱"],
            ["UI/UX 디자인", "UI/UX 디자인"],
            ["AI/ML 솔루션", "AI/ML 솔루션"],
            ["기타", "기타"]
          ]), 
          {}, 
          { class: "form-select", required: true }
        %>
      </div>

      <div class="form-group">
        <%= f.label :budget, "예산 범위", class: "form-label" %>
        <%= f.select :budget, 
          options_for_select([
            ["선택해주세요", ""],
            ["500만원 미만", "500만원 미만"],
            ["500만원 ~ 1,000만원", "500만원 ~ 1,000만원"],
            ["1,000만원 ~ 3,000만원", "1,000만원 ~ 3,000만원"],
            ["3,000만원 ~ 5,000만원", "3,000만원 ~ 5,000만원"],
            ["5,000만원 이상", "5,000만원 이상"],
            ["협의 필요", "협의 필요"]
          ]), 
          {}, 
          { class: "form-select" }
        %>
      </div>

      <div class="form-group">
        <%= f.label :message, "프로젝트 상세 내용 *", class: "form-label" %>
        <%= f.text_area :message, class: "form-textarea", placeholder: "프로젝트에 대해 자세히 설명해주세요...", required: true, rows: 6, value: params[:template_title].present? ? "안녕하세요. \"#{params[:template_title]}\" 템플릿을 기반으로 의뢰하고 싶습니다.\n\n구체적인 요구사항:\n" : nil %>
        <p style="color: var(--color-gray-500); font-size: var(--text-sm); margin-top: var(--space-2);">
          프로젝트 목적, 주요 기능, 일정, 참고 사이트 등을 포함해주시면 더 정확한 견적을 드릴 수 있습니다.
        </p>
      </div>

      <div style="margin-top: var(--space-8);">
        <%= f.submit "문의하기", class: "btn btn-primary btn-lg", style: "width: 100%;" %>
      </div>

      <p style="text-align: center; color: var(--color-gray-500); font-size: var(--text-sm); margin-top: var(--space-4);">
        문의 주신 내용은 영업일 기준 24시간 이내에 답변드립니다.
      </p>
    <% end %>
  </div>
</section>

<!-- Contact Info Section -->
<section class="section bg-gray-50">
  <div class="container">
    <div class="text-center" style="margin-bottom: var(--space-12);">
      <h2 style="font-size: var(--text-4xl); margin-bottom: var(--space-4);">다른 방법으로 연락하기</h2>
      <p class="text-gray" style="font-size: var(--text-lg);">
        편하신 방법으로 언제든지 연락주세요
      </p>
    </div>

    <div class="grid grid-3">
      <div class="card text-center">
        <div style="width: 60px; height: 60px; background: var(--gradient-primary); border-radius: var(--radius-full); display: flex; align-items: center; justify-content: center; margin: 0 auto var(--space-4);">
          <svg width="30" height="30" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2">
            <path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"/>
            <polyline points="22,6 12,13 2,6"/>
          </svg>
        </div>
        <h3 style="font-size: var(--text-xl); margin-bottom: var(--space-2);">이메일</h3>
        <p class="text-gray">contact@dlab.kr</p>
      </div>

      <div class="card text-center">
        <div style="width: 60px; height: 60px; background: var(--gradient-accent); border-radius: var(--radius-full); display: flex; align-items: center; justify-content: center; margin: 0 auto var(--space-4);">
          <svg width="30" height="30" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2">
            <path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"/>
          </svg>
        </div>
        <h3 style="font-size: var(--text-xl); margin-bottom: var(--space-2);">전화</h3>
        <p class="text-gray">02-1234-5678</p>
      </div>

      <div class="card text-center">
        <div style="width: 60px; height: 60px; background: var(--gradient-primary); border-radius: var(--radius-full); display: flex; align-items: center; justify-content: center; margin: 0 auto var(--space-4);">
          <svg width="30" height="30" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2">
            <circle cx="12" cy="12" r="10"/>
            <polyline points="12 6 12 12 16 14"/>
          </svg>
        </div>
        <h3 style="font-size: var(--text-xl); margin-bottom: var(--space-2);">운영 시간</h3>
        <p class="text-gray">평일 09:00 - 18:00<br>(주말 및 공휴일 휴무)</p>
      </div>
    </div>
  </div>
</section>

