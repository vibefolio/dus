<div class="max-w-md mx-auto p-6 space-y-8 bg-white min-h-screen">
  <div class="text-center">
    <h1 class="text-2xl font-bold mb-2">ğŸ“± ì•± ì—°ë™ í…ŒìŠ¤íŠ¸</h1>
    <p class="text-gray-600 text-sm">Expo ì•±ì—ì„œ ì´ í˜ì´ì§€ë¥¼ ì—´ì–´ ê¸°ëŠ¥ì„ í…ŒìŠ¤íŠ¸í•˜ì„¸ìš”.</p>
  </div>

  <!-- Wayo Section -->
  <div class="border rounded-xl p-6 bg-purple-50">
    <h2 class="text-xl font-bold text-purple-800 mb-4">ğŸ’Œ Wayo (ì™€ìš”)</h2>
    
    <div class="space-y-4">
      <button onclick="shareInvitation()" class="w-full bg-purple-600 hover:bg-purple-700 text-white font-bold py-3 px-4 rounded-lg flex items-center justify-center gap-2 transition">
        <span>ğŸ“¤ ì´ˆëŒ€ì¥ ê³µìœ í•˜ê¸°</span>
      </button>

      <button onclick="openGabojagoApp()" class="w-full bg-white border-2 border-purple-200 text-purple-700 font-bold py-3 px-4 rounded-lg flex items-center justify-center gap-2 hover:bg-purple-50 transition">
        <span>ğŸš€ ê°€ë³´ìê³  ì•± ì—´ê¸°</span>
      </button>
    </div>
  </div>

  <!-- Gabojago Section -->
  <div class="border rounded-xl p-6 bg-green-50">
    <h2 class="text-xl font-bold text-green-800 mb-4">ğŸš© Gabojago (ê°€ë³´ìê³ )</h2>
    
    <div class="space-y-4">
      <button onclick="requestQRScan()" class="w-full bg-green-600 hover:bg-green-700 text-white font-bold py-3 px-4 rounded-lg flex items-center justify-center gap-2 transition">
        <span>ğŸ“¸ QR ì½”ë“œ ìŠ¤ìº”</span>
      </button>
      
      <div id="qr-result" class="hidden p-3 bg-white border border-green-200 rounded text-center text-sm text-green-800">
        ëŒ€ê¸° ì¤‘...
      </div>

      <button onclick="addToCalendar()" class="w-full bg-white border-2 border-green-200 text-green-700 font-bold py-3 px-4 rounded-lg flex items-center justify-center gap-2 hover:bg-green-50 transition">
        <span>ğŸ—“ ìº˜ë¦°ë” ì¼ì • ì¶”ê°€</span>
        <div class="text-xs font-normal opacity-70">(ì„œìš¸ì¬ì¦ˆí˜ìŠ¤í‹°ë²Œ)</div>
      </button>
    </div>
  </div>

  <div class="text-center text-xs text-gray-400 mt-8">
    User Agent: <span id="user-agent"></span>
  </div>
</div>

<script>
  // Display User Agent
  document.getElementById('user-agent').innerText = navigator.userAgent;

  // 1. Wayo: Share
  function shareInvitation() {
    const message = {
      type: 'SHARE',
      content: {
        message: 'ì™€ìš” ì´ˆëŒ€ì¥ì´ ë„ì°©í–ˆìŠµë‹ˆë‹¤! í•¨ê»˜í•´ì£¼ì„¸ìš”.',
        url: 'https://designd.co.kr/invitation/sample',
        title: 'ì›¨ë”© ì´ˆëŒ€ì¥'
      }
    };
    sendToNative(message);
  }

  // 2. Wayo: Deep Link
  function openGabojagoApp() {
    const message = {
      type: 'OPEN_APP',
      url: 'gabojago://home'
    };
    sendToNative(message);
  }

  // 3. Gabojago: QR Scan
  function requestQRScan() {
    const resultDiv = document.getElementById('qr-result');
    resultDiv.classList.remove('hidden');
    resultDiv.innerText = "ì¹´ë©”ë¼ë¥¼ ì¼œëŠ” ì¤‘...";
    
    sendToNative({ type: 'OPEN_QR' });
  }

  // Callback from Native App
  window.handleQRResult = function(data) {
    const resultDiv = document.getElementById('qr-result');
    resultDiv.innerText = "âœ… ìŠ¤ìº” ì„±ê³µ: " + data;
    resultDiv.classList.add('bg-green-100');
    // alert("ìŠ¤ìº”ëœ ë°ì´í„°: " + data);
  };

  // 4. Gabojago: Calendar
  function addToCalendar() {
    const eventData = {
      type: 'ADD_CALENDAR',
      event: {
        title: 'ì„œìš¸ ì¬ì¦ˆ í˜ìŠ¤í‹°ë²Œ 2026',
        startDate: '2026-05-23T10:00:00',
        endDate: '2026-05-25T22:00:00',
        location: 'ì˜¬ë¦¼í”½ê³µì› 88ì”ë””ë§ˆë‹¹',
        notes: 'ì¹œêµ¬ë“¤ê³¼ í•¨ê»˜í•˜ëŠ” ì¬ì¦ˆ í˜ìŠ¤í‹°ë²Œ!'
      }
    };
    sendToNative(eventData);
  }

  // Helper function to communicate with React Native
  function sendToNative(messageObj) {
    if (window.ReactNativeWebView) {
      window.ReactNativeWebView.postMessage(JSON.stringify(messageObj));
    } else {
      alert("ì•± í™˜ê²½ì´ ì•„ë‹™ë‹ˆë‹¤. (ReactNativeWebView ì—†ìŒ)\n\nì „ì†¡í•  ë©”ì‹œì§€:\n" + JSON.stringify(messageObj, null, 2));
    }
  }
</script>
